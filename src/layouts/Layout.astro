---
import '../styles/global.css';

// 1. Body Font (Functional)
import '@fontsource/inter'; 
// 2. Headline Font (Loud/Bold)
import '@fontsource/inter-tight'; 
// 3. Editorial Font (Elegant/Serif)
import '@fontsource/newsreader'; 
// 4. UI Font (Friendly/Geometric)
import '@fontsource/poppins';
// 5. Display Font (High Contrast)
import '@fontsource/abril-fatface';

const DEFAULT_DESCRIPTION = "Senior B2B marketer with a creative-technical foundation, building AI-powered marketing systems, workflow automation, and content strategies that drive pipeline efficiency and measurable growth.";
const DEFAULT_OG_IMAGE = "/assets/og-image.png";
const {
	title,
	description = DEFAULT_DESCRIPTION,
	canonicalUrl,
	ogImage = DEFAULT_OG_IMAGE,
	robots = "index, follow",
} = Astro.props;

const canonical =
	canonicalUrl ?? (Astro.site ? new URL(Astro.url.pathname, Astro.site).href : undefined);

const personSchema = {
	"@context": "https://schema.org",
	"@type": "Person",
	name: "Ollie Pinto",
	jobTitle: "Full-stack marketer",
	url: canonical ?? "https://www.olliepinto.com/",
	sameAs: ["https://olliepinto.substack.com/", "https://www.linkedin.com/in/oliver-pinto/"],
};
---
<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
		<meta name="description" content={description} />
		<meta name="robots" content={robots} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:type" content="website" />
		{canonical && <meta property="og:url" content={canonical} />}
		<meta property="og:site_name" content="Ollie Pinto" />
		<meta property="og:locale" content="en_GB" />
		<meta property="og:image" content={ogImage} />
		<meta property="og:image:alt" content="Ollie Pinto portfolio preview" />
		<meta property="twitter:image" content={ogImage} />
		<meta property="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon-180x180.png" />
		<link rel="icon" type="image/svg+xml" href="/assets/favicon-196x196.svg" />
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon-96x96.png" />
		<link rel="icon" type="image/png" sizes="128x128" href="/assets/favicon-128x128.png" />
		<link rel="icon" type="image/png" sizes="196x196" href="/assets/favicon-196x196.png" />
		<link rel="icon" type="image/png" sizes="512x512" href="/assets/android-chrome-512x512.png" />
		<meta name="msapplication-TileImage" content="/assets/mstile-310x310.png" />
		{canonical && <link rel="canonical" href={canonical} />}
		<title>{title}</title>
		<script type="application/ld+json">{JSON.stringify(personSchema)}</script>
        <script is:inline>
            // Only enable dark mode if the user explicitly chose it before.
            // Otherwise, force remove it (Light Mode Default).
            if (localStorage.theme === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light'; // Ensure memory is set to light
            }
        </script>
	</head>
	<body class="bg-bg-depth text-text-primary transition-colors duration-300">
		<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[1000] focus:px-4 focus:py-2 focus:rounded-full focus:bg-text-primary focus:text-bg-depth focus:shadow-lg">
			Skip to main content
		</a>
		<main id="main-content" tabindex="-1" class="w-full min-h-screen flex flex-col items-center overflow-x-hidden">
			<slot />
		</main>
	</body>
</html>
